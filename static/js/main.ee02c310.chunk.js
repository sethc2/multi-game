(this["webpackJsonpmulti-game"]=this["webpackJsonpmulti-game"]||[]).push([[0],{14:function(e,n,t){},15:function(e,n,t){},17:function(e,n,t){},18:function(e,n,t){"use strict";t.r(n);var r=t(1),c=t.n(r),s=t(8),o=t.n(s),a=(t(14),t(2)),i=(t(15),t(0));function l(e){return Math.floor(Math.random()*Math.floor(e))}function u(e,n,t,r){return function(c,s){return Object(i.jsxs)("div",{className:"numberEquationProblem",children:[Object(i.jsx)("span",{children:c[n]}),Object(i.jsx)("span",{children:e}),Object(i.jsx)("span",{children:c[t]}),Object(i.jsx)("span",{children:"="}),Object(i.jsx)("span",{className:"problemAnswerQuestion ".concat(s?r(c,s)?"problemAnswerCorrect":"problemAnswerWrong":""),children:null===s?"?":s})]})}}var d={name:"Addition",createGame:function(e){var n=e.maxNumber,t=function(){return{firstAddend:l(n)+1,secondAddend:l(n)+1,type:"addition"}},r=function(e){return e.firstAddend+e.secondAddend},c=function(e,n){return r(e)===n};return{renderProblem:u("+","firstAddend","secondAddend",c),isAnswerCorrect:c,renderPossibleAnswer:function(e){return Object(i.jsx)("div",{className:"possibleAnswerContainer",children:e})},getNewProblem:t,getActualAnswer:r,getPossibleAnswers:function(e){var n=new Set;for(n.add(r(e));n.size<4;)n.add(r(t()));return Array.from(n).sort((function(e,n){return e-n}))}}}},b=["firstAddend","secondAddend","sum"],m={name:"NumberBond",createGame:function(e){var n=e.maxNumber,t=d.createGame({maxNumber:n}),r=function(){return{additionProblem:t.getNewProblem(),blank:b[l(3)]}},c=function(e){return"firstAddend"===e.blank?e.additionProblem.firstAddend:"secondAddend"===e.blank?e.additionProblem.secondAddend:t.getActualAnswer(e.additionProblem)},s=function(e,n){return c(e)===n};return{renderProblem:function(e,n){return Object(i.jsxs)("div",{className:"numberBondProblem",children:[Object(i.jsx)("div",{className:"numberBondTop",children:Object(i.jsx)("span",{className:"numberBondQuestion ".concat(n&&"sum"===e.blank?s(e,n)?"problemAnswerCorrect":"problemAnswerWrong":""),children:"sum"===e.blank?n||"?":t.getActualAnswer(e.additionProblem)})}),Object(i.jsxs)("div",{className:"numberBondBottom",children:[Object(i.jsx)("span",{className:"numberBondQuestion ".concat(n&&"firstAddend"===e.blank?s(e,n)?"problemAnswerCorrect":"problemAnswerWrong":""),children:"firstAddend"===e.blank?n||"?":e.additionProblem.firstAddend}),Object(i.jsx)("span",{className:"numberBondQuestion ".concat(n&&"secondAddend"===e.blank?s(e,n)?"problemAnswerCorrect":"problemAnswerWrong":""),children:"secondAddend"===e.blank?n||"?":e.additionProblem.secondAddend})]})]})},isAnswerCorrect:s,renderPossibleAnswer:function(e){return Object(i.jsx)("div",{className:"possibleAnswerContainer",children:e})},getNewProblem:r,getActualAnswer:c,getPossibleAnswers:function(e){var n=new Set;for(n.add(c(e));n.size<4;)n.add(c(r()));return Array.from(n).sort((function(e,n){return e-n}))}}}},j=[d,{name:"Multiplication",createGame:function(e){var n=e.maxNumber,t=function(){return{multiplicand:l(n)+1,multiplier:l(n)+1,type:"multiplication"}},r=function(e){return e.multiplicand*e.multiplier},c=function(e,n){return r(e)===n};return{renderProblem:u("X","multiplicand","multiplier",c),isAnswerCorrect:c,renderPossibleAnswer:function(e){return Object(i.jsx)("div",{className:"possibleAnswerContainer",children:e})},getNewProblem:t,getActualAnswer:r,getPossibleAnswers:function(e){var n=new Set;for(n.add(r(e));n.size<4;)n.add(r(t()));return Array.from(n).sort((function(e,n){return e-n}))}}}},{name:"Division",createGame:function(e){var n=e.maxNumber,t=function(){var e=l(n)+1,t=l(n)+1;return{divisor:t,dividend:e*t,type:"division"}},r=function(e){return e.dividend/e.divisor},c=function(e,n){return r(e)===n};return{renderProblem:u("\xf7","dividend","divisor",c),isAnswerCorrect:c,renderPossibleAnswer:function(e){return Object(i.jsx)("div",{className:"possibleAnswerContainer",children:e})},getNewProblem:t,getActualAnswer:r,getPossibleAnswers:function(e){var n=new Set;for(n.add(r(e));n.size<4;)n.add(r(t()));return Array.from(n).sort((function(e,n){return e-n}))}}}},m];function O(e){var n=e.game,t=e.delayAfterRightAnswer,c=n.getNewProblem,s=n.getPossibleAnswers,o=n.isAnswerCorrect,i=n.renderPossibleAnswer,l=n.renderProblem,u=Object(r.useState)(0),d=Object(a.a)(u,2),b=d[0],m=d[1],j=Object(r.useState)(0),O=Object(a.a)(j,2),f=O[0],g=O[1],v=Object(r.useState)(n.getNewProblem()),x=Object(a.a)(v,2),h=x[0],w=x[1],A=Object(r.useState)(null),N=Object(a.a)(A,2),p=N[0],S=N[1],C=Object(r.useMemo)((function(){return l(h,p)}),[h,l,p]),P=Object(r.useMemo)((function(){return s(h)}),[h,s]),y=Object(r.useCallback)((function(e){var n=P[e];S(n),o(h,n)?(null===p&&m(b+1),t?window.setTimeout((function(){S(null),w(c())}),t):S(null)):null===p&&g(f+1)}),[P,o,c,h,b,f,t]),R=Object(r.useMemo)((function(){return P.map((function(e){return i(e)}))}),[i,P]),k=Object(r.useCallback)((function(){g(0),m(0),w(c())}),[c]);return{currentProblem:h,onChoseAnswer:y,renderedProblem:C,numberCorrect:b,numberWrong:f,possibleRenderedAnswers:R,onReset:k}}function f(e){var n=e.game,t=e.delayAfterRightAnswer,r=void 0===t?500:t,c=e.onDone,s=O({game:n,delayAfterRightAnswer:r}),o=s.currentProblem,a=s.numberCorrect,l=s.numberWrong,u=s.onChoseAnswer,d=s.possibleRenderedAnswers,b=s.renderedProblem;return Object(i.jsx)(g,{currentProblem:o,onChoseAnswer:u,renderedProblem:b,possibleRenderedAnswers:d,footer:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{children:["Nubmer correct: ",a]}),Object(i.jsxs)("div",{children:["Number wrong: ",l]}),Object(i.jsx)("button",{onClick:function(){return c({numberCorrect:a,numberWrong:l})},children:"Done"})]})})}function g(e){var n=e.possibleRenderedAnswers,t=e.onChoseAnswer,r=e.renderedProblem,c=e.footer,s=e.timer;return Object(i.jsxs)("div",{className:"gameRunnerContainer",onKeyDown:function(e){"ArrowUp"===e.key&&t(0),"ArrowLeft"===e.key&&t(1),"ArrowRight"===e.key&&t(2),"ArrowDown"===e.key&&t(3)},tabIndex:0,children:[Object(i.jsx)("div",{className:"gameRunnerProblem",children:r}),Object(i.jsxs)("div",{className:"gameRunnerAnswersSection",children:[Object(i.jsx)("div",{className:"gameRunnerAnswers",children:n.map((function(e,n){return Object(i.jsx)("button",{onClick:function(){return t(n)},children:e},n)}))}),s||null]}),Object(i.jsx)("div",{className:"gameRunnerResults",children:c})]})}var v=t(9),x=t(3),h=t(7),w=function(e){var n=e.game,t=e.goal,c=e.gameTimeSeconds,s=void 0===c?60:c,o=e.onDone,l=Object(r.useState)(s+3),u=Object(a.a)(l,2),d=u[0],b=u[1],m=Object(r.useRef)(d);m.current=d;var j=Object(r.useRef)(0),f=O({game:n,delayAfterRightAnswer:10}),v=(f.onReset,f.numberWrong),w=f.numberCorrect,A=f.currentProblem,N=Object(h.a)(f,["onReset","numberWrong","numberCorrect","currentProblem"]);Object(r.useEffect)((function(){j.current=window.setInterval((function(){m.current<=1&&clearInterval(j.current),b(m.current-1)}),1e3)}),[]),Object(r.useEffect)((function(){d||o({numberCorrect:w,numberWrong:v})}),[d]);var p=d-s,S=Object(r.useState)(100),C=Object(a.a)(S,2),P=C[0],y=C[1],R=Object(r.useRef)(null),k=Object(r.useRef)(P);return k.current=P,Object(r.useEffect)((function(){p<=0&&(R.current||(R.current=setInterval((function(){var e=t/d,n=k.current-e;y(n<=0?0:n)}),10)))}),[p]),Object(r.useEffect)((function(){y(100)}),[A]),Object(i.jsxs)("div",{className:"timedGameRunner",children:[p<=0&&Object(i.jsx)(g,Object(x.a)(Object(x.a)({},N),{},{currentProblem:A,footer:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{children:["Time remaining: ",d]}),Object(i.jsxs)("div",{children:["Nubmer correct: ",w]}),Object(i.jsxs)("div",{children:["Number wrong: ",v]})]}),timer:Object(i.jsxs)("div",{className:"gameRunnerTimer ",children:[Object(i.jsx)("div",{className:"timerGone",style:{height:"".concat(100-P,"%")}}),Object(i.jsx)("div",{className:"timerRemaining",style:{height:"".concat(P,"%")}})]})})),p>0&&Object(i.jsx)("div",{className:"gameCountdown",children:d-s})]})},A=function(e){var n=e.game,t=e.goal,c=e.onDone,s=Object(r.useState)(0),o=Object(a.a)(s,2),l=o[0],u=o[1],d=Object(r.useRef)(l);d.current=l;var b=Object(r.useRef)(0),m=O({game:n,delayAfterRightAnswer:10}),j=(m.onReset,m.numberWrong),f=m.numberCorrect,v=m.currentProblem,w=Object(h.a)(m,["onReset","numberWrong","numberCorrect","currentProblem"]);return Object(r.useEffect)((function(){b.current=window.setInterval((function(){(f>=t||l>1e4)&&clearInterval(b.current),u(d.current+1)}),1e3)}),[]),Object(r.useEffect)((function(){f>=t&&c({numberCorrect:f,numberWrong:j,seconds:l-3})}),[f,j,l]),Object(i.jsxs)("div",{className:"timedGameRunner",children:[l>=3&&Object(i.jsx)(g,Object(x.a)(Object(x.a)({},w),{},{currentProblem:v,footer:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{children:["Time count: ",l]}),Object(i.jsxs)("div",{children:["Nubmer correct: ",f]}),Object(i.jsxs)("div",{children:["Number wrong: ",j]})]})})),l<3&&Object(i.jsx)("div",{className:"gameCountdown",children:3-l})]})},N=(t(17),["How many in a minute?","How long to get 30","Endless"]),p=["Name","Game","Level","Style","GameRun"],S=function(){var e=Object(r.useState)("Name"),n=Object(a.a)(e,2),t=n[0],c=n[1],s=Object(r.useState)({}),o=Object(a.a)(s,2),l=o[0],u=o[1],d="Name"===t,b="GameRun"===t||void 0===l[t],m=Object(r.useState)(null),j=Object(a.a)(m,2),O=j[0],f=j[1];return Object(i.jsxs)("div",{className:"fullFlex",children:["GameRun"===t&&Object(i.jsx)(C,{settings:l,onDone:function(e){f(e),c("Style")}}),"GameRun"!==t&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"headerFlex",children:Object(i.jsxs)("h1",{children:["Select ",t]})}),Object(i.jsxs)("div",{className:"bodyFlex",children:["Name"===t&&Object(i.jsx)(k,{selectedName:l.Name||null,setSelectedName:function(e){u(Object(x.a)(Object(x.a)({},l),{},{Name:e})),c("Game")}}),"Game"===t&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("span",{children:["Name: ",l.Name]}),Object(i.jsx)(R,{selectedGame:l.Game||null,setSelectedGame:function(e){u(Object(x.a)(Object(x.a)({},l),{},{Game:e})),c("Level")}})]}),"Level"===t&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("span",{children:["Name: ",l.Name]}),Object(i.jsxs)("span",{children:["Game: ",l.Game]}),Object(i.jsx)(y,{selectedLevel:l.Level||null,setSelectedLevel:function(e){u(Object(x.a)(Object(x.a)({},l),{},{Level:e})),c("Style")}})]}),"Style"===t&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("span",{children:["Name: ",l.Name]}),Object(i.jsxs)("span",{children:["Game: ",l.Game]}),Object(i.jsxs)("span",{children:["Level: ",l.Level]}),Object(i.jsx)(P,{selectedStyle:l.Style||null,setSelectedStyle:function(e){u(Object(x.a)(Object(x.a)({},l),{},{Style:e}))}}),l.Style&&Object(i.jsx)("button",{onClick:function(){return c("GameRun")},className:"bigStart",children:"Start"})]})]}),Object(i.jsx)("div",{className:"footerFlex",children:O&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{children:["You got ",O.numberCorrect,"How long to get 30"===l.Style?" in ".concat(O.seconds||0," seconds"):"","!"]}),Object(i.jsxs)("div",{children:["You missed ",O.numberWrong]})]})}),Object(i.jsxs)("div",{className:"controls",children:[Object(i.jsx)("button",{disabled:d,className:d?"hiddenButton":"",onClick:function(){var e=p.findIndex((function(e){return e===t}));c(p[e-1])},children:"Back"}),Object(i.jsx)("button",{disabled:b,onClick:function(){var e=p.findIndex((function(e){return e===t}));c(p[e+1])},className:"Style"===t?"hiddenButton":"",children:t})]})]})]})},C=function(e){var n=e.settings,t=e.onDone,c=Object(r.useMemo)((function(){var e=j.find((function(e){return e.name===n.Game}));if(e)return e.createGame({maxNumber:n.Level})}),[n]);return"How many in a minute?"===n.Style?Object(i.jsx)(w,{game:c,goal:60,gameTimeSeconds:60,onDone:t}):"Endless"===n.Style?Object(i.jsx)(f,{game:c,delayAfterRightAnswer:800,onDone:t}):"How long to get 30"===n.Style?Object(i.jsx)(A,{game:c,goal:30,onDone:t}):Object(i.jsx)("div",{})},P=function(e){var n=e.selectedStyle,t=e.setSelectedStyle;return Object(i.jsx)(i.Fragment,{children:N.map((function(e){return Object(i.jsx)("button",{className:"optionSelect ".concat(e===n?"selectedBorder":""),onClick:function(){return t(e)},children:e},e)}))})},y=function(e){var n=e.selectedLevel,t=e.setSelectedLevel,c=Object(r.useMemo)((function(){for(var e=[],n=4;n<=20;n++)e.push(n);return e}),[]);return Object(i.jsx)("div",{className:"levelSelect",children:c.map((function(e){return Object(i.jsx)("button",{className:"optionSelect ".concat(e===n?"selectedBorder":""),onClick:function(){return t(e)},children:e},e)}))})},R=function(e){var n=e.setSelectedGame,t=e.selectedGame;return Object(i.jsx)(i.Fragment,{children:j.map((function(e){return Object(i.jsx)("button",{className:"optionSelect ".concat(e.name===t?"selectedBorder":""),onClick:function(){return n(e.name)},children:e.name},e.name)}))})},k=function(e){var n=e.setSelectedName,t=e.selectedName,c=Object(r.useState)((function(){var e=window.localStorage.getItem("namesSettings");if(e){var n=JSON.parse(e);if(1===n.version)return n.names}return[]})),s=Object(a.a)(c,2),o=s[0],l=s[1],u=Object(r.useCallback)((function(e){if(!o.find((function(n){return n.toLocaleLowerCase()===e.toLocaleLowerCase()}))){var t=[].concat(Object(v.a)(o),[e]).sort((function(e,n){return e.toLocaleUpperCase().localeCompare(n.toLocaleUpperCase())}));l(t),window.localStorage.setItem("namesSettings",JSON.stringify({version:1,names:t},null," ")),j(null),n(e)}}),[o]),d=Object(r.useState)(null),b=Object(a.a)(d,2),m=b[0],j=b[1];return Object(i.jsxs)(i.Fragment,{children:[o.map((function(e){return Object(i.jsx)("button",{onClick:function(){return n(e)},className:"optionSelect ".concat(e===t?"selectedBorder":""),children:e},e)})),null!==m&&Object(i.jsxs)("span",{children:[Object(i.jsx)("input",{value:m,placeholder:"New name",onChange:function(e){return j(e.target.value)}}),Object(i.jsx)("button",{onClick:function(){u(m)},children:"Save"})]}),null===m&&Object(i.jsx)("button",{onClick:function(){return j("")},className:"addNewName",children:"+Add new"})]})};var G=function(){var e=Object(r.useState)(9),n=Object(a.a)(e,2),t=(n[0],n[1],Object(r.useState)(!1)),c=Object(a.a)(t,2),s=c[0],o=c[1],l=Object(r.useState)(null),u=Object(a.a)(l,2),d=(u[0],u[1]),b=Object(r.useState)(null),m=Object(a.a)(b,2),O=(m[0],m[1]),g=Object(r.useCallback)((function(e){o(!1),d(e.numberCorrect),O(e.numberWrong)}),[]);return Object(i.jsx)("div",{className:"App",children:s?Object(i.jsx)(f,{game:j[0].createGame({maxNumber:9}),delayAfterRightAnswer:10,onDone:g}):Object(i.jsx)(S,{})})},L=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,19)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,s=n.getLCP,o=n.getTTFB;t(e),r(e),c(e),s(e),o(e)}))};o.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(G,{})}),document.getElementById("root")),L()}},[[18,1,2]]]);
//# sourceMappingURL=main.ee02c310.chunk.js.map